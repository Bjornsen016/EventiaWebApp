@page
@model EventiaWebapp.Pages.User.IndexModel
@{
    var user = Model.CurrentUser;
}

<div class="container d-flex flex-column w-75">
    <h2 class="display-4 text-center mb-3">Your information</h2>
    <table class="table table-borderless d-flex">
        <tbody>
        <tr>
            <th scope="row">Email</th>
            <td>@user.Email</td>
        </tr>
        <tr>
            <th scope="row">Phone-number</th>
            <td>@user.PhoneNumber</td>
        </tr>
        <tr>
            <th scope="row">First Name</th>
            <td>@user.FirstName</td>
        </tr>
        <tr>
            <th scope="row">Last Name</th>
            <td>@user.LastName</td>
        </tr>
        </tbody>
    </table>

    <div class="d-flex flex-column w-50">
        <form method="post">
            <h4>Change password</h4>
            <div asp-validation-summary="All"></div>
            <div class="d-flex flex-row mb-4">
                <div class="form-floating flex-fill mb-0">
                    <input class="form-control flex-fill mb-0" asp-for="CurrentPassword" placeholder="CurrentPassword"/>
                    <label class="form-label" asp-for="CurrentPassword"></label>
                    <span asp-validation-for="CurrentPassword"></span>
                </div>
            </div>
            <div class="d-flex flex-row mb-4">
                <div class="form-floating flex-fill mb-0">
                    <input class="form-control flex-fill mb-0" asp-for="NewPassword" placeholder="NewPassword"/>
                    <label class="form-label" asp-for="NewPassword"></label>
                    <span asp-validation-for="NewPassword"></span>
                </div>
            </div>
            <button class="btn btn-outline-success" type="submit" onclick="confirm('Are you sure that you want to change password?')">Change password</button>
        </form>
        @if (!string.IsNullOrEmpty(Model.ChangedPasswordMessage))
        {
            <div>@Model.ChangedPasswordMessage</div>
        }
    </div>
</div>